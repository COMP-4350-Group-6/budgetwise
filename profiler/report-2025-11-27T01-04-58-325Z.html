<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BudgetWise LLM Performance Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 1400px; margin: 0 auto; }
    h1 { text-align: center; margin-bottom: 30px; color: #333; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .stat-card h3 { color: #666; font-size: 12px; text-transform: uppercase; margin-bottom: 5px; }
    .stat-card .value { font-size: 24px; font-weight: bold; color: #333; }
    .stat-card .unit { font-size: 12px; color: #999; }
    .chart-container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .chart-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    @media (max-width: 900px) { .chart-row { grid-template-columns: 1fr; } }
    .section-title { font-size: 18px; font-weight: 600; margin-bottom: 15px; color: #333; }
    canvas { max-height: 300px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸš€ BudgetWise LLM Performance Report</h1>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">Generated: 11/26/2025, 7:04:58 PM</p>
    
    
    <h2 style="margin: 30px 0 15px;">Auto-Categorization</h2>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Success Rate</h3>
        <div class="value">99.0<span class="unit">%</span></div>
      </div>
      <div class="stat-card">
        <h3>Mean Latency</h3>
        <div class="value">646<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Median (P50)</h3>
        <div class="value">581<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>P95 Latency</h3>
        <div class="value">1258<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Min</h3>
        <div class="value">485<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Max</h3>
        <div class="value">2370<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Std Deviation</h3>
        <div class="value">290<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>IQR (Q3-Q1)</h3>
        <div class="value">69<span class="unit">ms</span></div>
      </div>
    </div>
    
    <div class="chart-row">
      <div class="chart-container">
        <div class="section-title">Latency Distribution (Histogram)</div>
        <canvas id="histogram-0"></canvas>
      </div>
      <div class="chart-container">
        <div class="section-title">Box Plot Data</div>
        <canvas id="boxplot-0"></canvas>
      </div>
    </div>
    
    <div class="chart-container">
      <div class="section-title">Response Time Over Runs</div>
      <canvas id="timeline-0"></canvas>
    </div>
    
    <h2 style="margin: 30px 0 15px;">Invoice Parsing</h2>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Success Rate</h3>
        <div class="value">80.0<span class="unit">%</span></div>
      </div>
      <div class="stat-card">
        <h3>Mean Latency</h3>
        <div class="value">1715<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Median (P50)</h3>
        <div class="value">1720<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>P95 Latency</h3>
        <div class="value">1846<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Min</h3>
        <div class="value">1576<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Max</h3>
        <div class="value">1846<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Std Deviation</h3>
        <div class="value">66<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>IQR (Q3-Q1)</h3>
        <div class="value">69<span class="unit">ms</span></div>
      </div>
    </div>
    
    <div class="chart-row">
      <div class="chart-container">
        <div class="section-title">Latency Distribution (Histogram)</div>
        <canvas id="histogram-1"></canvas>
      </div>
      <div class="chart-container">
        <div class="section-title">Box Plot Data</div>
        <canvas id="boxplot-1"></canvas>
      </div>
    </div>
    
    <div class="chart-container">
      <div class="section-title">Response Time Over Runs</div>
      <canvas id="timeline-1"></canvas>
    </div>
    
  </div>

  <script>
    const results = [{"name":"Auto-Categorization","totalRuns":100,"successCount":99,"successRate":99,"times":[484.51862500000425,490.7382920000018,495.0062919999982,499.0450409999994,501.02100000000064,501.87804199999664,507.4969999999994,511.33749999999964,513.2510420000035,519.924874999997,522.5807500000001,527.3102909999998,534.0278330000001,536.2616670000007,537.0577909999993,538.3734170000025,538.6046249999999,539.8484169999938,539.9329170000055,542.7428749999999,542.8333750000002,544.9852080000055,545.4397910000007,546.0094170000011,546.2347919999993,550.4763749999984,553.3005419999972,558.070667,558.4645830000009,559.1237079999992,559.1327500000007,559.6023329999998,560.0812920000026,560.9997919999987,561.7160000000003,562.2047500000044,562.4979579999999,563.8042499999938,564.168875000003,565.8261669999993,566.5401659999989,569.989708000001,570.1873329999999,572.4761660000004,572.5273329999982,574.4984170000025,576.5899169999975,577.3215,578.8625420000001,581.0457500000011,581.7639169999966,581.8709579999995,582.4404579999973,582.5217080000002,584.0420829999998,587.1912080000002,588.5099160000027,588.8031249999995,588.898083,589.4985839999972,590.1515839999993,590.8392920000042,595.8518750000003,597.5499170000003,597.8626250000016,598.088125000002,598.6910419999995,600.0582079999949,600.3987909999996,603.0966660000013,605.2498749999995,611.9101669999982,613.1007079999999,613.7479999999996,615.0191659999982,615.4014999999999,615.7409160000025,617.9069999999992,619.3176669999998,626.4498330000006,635.091207999998,636.1745410000003,638.819666000003,639.2722500000018,641.2993339999994,649.6024589999997,650.7067920000009,655.8682909999989,664.4017079999976,682.8724999999977,690.3835000000036,735.9876250000016,785.637792,853.9705420000009,1258.3424169999998,1748.5642499999994,1842.672375000002,1924.0095419999998,2370.2206670000014],"chronologicalTimes":[785.637792,578.8625420000001,619.3176669999998,522.5807500000001,588.898083,584.0420829999998,588.8031249999995,507.4969999999994,598.6910419999995,559.6023329999998,511.33749999999964,587.1912080000002,577.3215,537.0577909999993,626.4498330000006,605.2498749999995,545.4397910000007,499.0450409999994,542.8333750000002,613.1007079999999,597.5499170000003,560.9997919999987,536.2616670000007,853.9705420000009,570.1873329999999,649.6024589999997,527.3102909999998,682.8724999999977,641.2993339999994,546.0094170000011,572.4761660000004,559.1327500000007,558.4645830000009,603.0966660000013,636.1745410000003,598.088125000002,1748.5642499999994,542.7428749999999,581.0457500000011,589.4985839999972,546.2347919999993,538.6046249999999,581.8709579999995,655.8682909999989,534.0278330000001,639.2722500000018,559.1237079999992,615.0191659999982,611.9101669999982,650.7067920000009,558.070667,565.8261669999993,615.7409160000025,560.0812920000026,600.0582079999949,501.87804199999664,600.3987909999996,613.7479999999996,569.989708000001,582.4404579999973,595.8518750000003,564.168875000003,590.1515839999993,576.5899169999975,544.9852080000055,562.2047500000044,495.0062919999982,664.4017079999976,638.819666000003,539.8484169999938,553.3005419999972,563.8042499999938,735.9876250000016,1842.672375000002,519.924874999997,550.4763749999984,615.4014999999999,590.8392920000042,2370.2206670000014,635.091207999998,1924.0095419999998,538.3734170000025,539.9329170000055,561.7160000000003,484.51862500000425,690.3835000000036,581.7639169999966,501.02100000000064,572.5273329999982,566.5401659999989,513.2510420000035,490.7382920000018,582.5217080000002,562.4979579999999,1258.3424169999998,597.8626250000016,574.4984170000025,617.9069999999992,588.5099160000027],"min":484.51862500000425,"max":2370.2206670000014,"mean":645.7761636868688,"median":581.0457500000011,"stdDev":289.8535125720136,"variance":84015.05875033443,"q1":546.2347919999993,"q3":615.0191659999982,"p90":682.8724999999977,"p95":1258.3424169999998,"p99":2370.2206670000014},{"name":"Invoice Parsing","totalRuns":20,"successCount":16,"successRate":80,"times":[1575.8149589999957,1638.5544579999987,1649.714374999996,1666.4354589999857,1676.4653749999998,1680.8222079999978,1712.4973330000066,1719.022250000009,1720.7667500000098,1726.4996249999967,1728.463957999993,1742.8212500000081,1745.5917080000072,1794.7718329999989,1817.6675839999953,1846.4128340000025],"chronologicalTimes":[1794.7718329999989,1676.4653749999998,1712.4973330000066,1846.4128340000025,1817.6675839999953,1649.714374999996,1680.8222079999978,1719.022250000009,1745.5917080000072,1742.8212500000081,1575.8149589999957,1726.4996249999967,1720.7667500000098,1666.4354589999857,1728.463957999993,1638.5544579999987],"min":1575.8149589999957,"max":1846.4128340000025,"mean":1715.1451224375,"median":1719.8945000000094,"stdDev":66.49362198872869,"variance":4421.401765179943,"q1":1676.4653749999998,"q3":1745.5917080000072,"p90":1817.6675839999953,"p95":1846.4128340000025,"p99":1846.4128340000025}];
    
    results.forEach((result, index) => {
      // Histogram
      const bins = 15;
      const binSize = (result.max - result.min) / bins;
      const histogram = new Array(bins).fill(0);
      result.times.forEach(t => {
        const binIndex = Math.min(Math.floor((t - result.min) / binSize), bins - 1);
        histogram[binIndex]++;
      });
      const labels = histogram.map((_, i) => (result.min + i * binSize).toFixed(0));
      
      new Chart(document.getElementById('histogram-' + index), {
        type: 'bar',
        data: {
          labels: labels,
          datasets: [{
            label: 'Frequency',
            data: histogram,
            backgroundColor: 'rgba(99, 102, 241, 0.7)',
            borderColor: 'rgba(99, 102, 241, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
          scales: {
            x: { title: { display: true, text: 'Latency (ms)' } },
            y: { title: { display: true, text: 'Count' } }
          }
        }
      });
      
      // Box plot visualization using floating bars
      const boxplotCtx = document.getElementById('boxplot-' + index);
      new Chart(boxplotCtx, {
        type: 'bar',
        data: {
          labels: [result.name],
          datasets: [
            // Lower whisker (Min to Q1)
            {
              label: 'Min â†’ Q1',
              data: [[result.min, result.q1]],
              backgroundColor: 'rgba(156, 163, 175, 0.3)',
              borderColor: 'rgba(107, 114, 128, 1)',
              borderWidth: 1,
              barPercentage: 0.3,
            },
            // Box (Q1 to Q3)
            {
              label: 'Q1 â†’ Q3 (IQR)',
              data: [[result.q1, result.q3]],
              backgroundColor: 'rgba(99, 102, 241, 0.7)',
              borderColor: 'rgba(99, 102, 241, 1)',
              borderWidth: 2,
              barPercentage: 0.6,
            },
            // Upper whisker (Q3 to Max)
            {
              label: 'Q3 â†’ Max',
              data: [[result.q3, result.max]],
              backgroundColor: 'rgba(156, 163, 175, 0.3)',
              borderColor: 'rgba(107, 114, 128, 1)',
              borderWidth: 1,
              barPercentage: 0.3,
            }
          ]
        },
        options: {
          indexAxis: 'y',
          responsive: true,
          plugins: {
            legend: { display: true, position: 'bottom' },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const range = context.raw;
                  return context.dataset.label + ': ' + range[0].toFixed(0) + ' - ' + range[1].toFixed(0) + ' ms';
                }
              }
            },
            annotation: {
              annotations: {
                medianLine: {
                  type: 'line',
                  xMin: result.median,
                  xMax: result.median,
                  borderColor: 'rgba(239, 68, 68, 1)',
                  borderWidth: 3,
                  label: {
                    display: true,
                    content: 'Median: ' + result.median.toFixed(0) + 'ms',
                    position: 'start'
                  }
                }
              }
            }
          },
          scales: {
            x: {
              title: { display: true, text: 'Latency (ms)' },
              min: Math.floor(result.min * 0.9),
              max: Math.ceil(result.max * 1.1)
            },
            y: { stacked: false }
          }
        }
      });
      
      // Add median line manually with canvas
      const boxChart = Chart.getChart(boxplotCtx);
      const medianX = boxChart.scales.x.getPixelForValue(result.median);
      const ctx = boxplotCtx.getContext('2d');
      ctx.save();
      ctx.strokeStyle = 'rgba(239, 68, 68, 1)';
      ctx.lineWidth = 3;
      ctx.setLineDash([]);
      ctx.beginPath();
      ctx.moveTo(medianX, boxChart.chartArea.top);
      ctx.lineTo(medianX, boxChart.chartArea.bottom);
      ctx.stroke();
      ctx.restore();
      
      // Timeline (using chronological order)
      new Chart(document.getElementById('timeline-' + index), {
        type: 'line',
        data: {
          labels: result.chronologicalTimes.map((_, i) => i + 1),
          datasets: [{
            label: 'Response Time (ms)',
            data: result.chronologicalTimes,
            borderColor: 'rgba(99, 102, 241, 1)',
            backgroundColor: 'rgba(99, 102, 241, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 2
          }, {
            label: 'Mean',
            data: result.chronologicalTimes.map(() => result.mean),
            borderColor: 'rgba(239, 68, 68, 0.8)',
            borderDash: [5, 5],
            pointRadius: 0
          }]
        },
        options: {
          responsive: true,
          scales: {
            x: { title: { display: true, text: 'Run #' } },
            y: { title: { display: true, text: 'Latency (ms)' } }
          }
        }
      });
    });
  </script>
</body>
</html>