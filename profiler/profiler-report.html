<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BudgetWise LLM Performance Report</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width: 1400px; margin: 0 auto; }
    h1 { text-align: center; margin-bottom: 30px; color: #333; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .stat-card h3 { color: #666; font-size: 12px; text-transform: uppercase; margin-bottom: 5px; }
    .stat-card .value { font-size: 24px; font-weight: bold; color: #333; }
    .stat-card .unit { font-size: 12px; color: #999; }
    .chart-container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .chart-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
    @media (max-width: 900px) { .chart-row { grid-template-columns: 1fr; } }
    .section-title { font-size: 18px; font-weight: 600; margin-bottom: 15px; color: #333; }
    canvas { max-height: 300px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸš€ BudgetWise LLM Performance Report</h1>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">Generated: 11/26/2025, 7:07:20 PM</p>
    
    
    <h2 style="margin: 30px 0 15px;">Auto-Categorization</h2>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Success Rate</h3>
        <div class="value">99.0<span class="unit">%</span></div>
      </div>
      <div class="stat-card">
        <h3>Mean Latency</h3>
        <div class="value">682<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Median (P50)</h3>
        <div class="value">596<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>P95 Latency</h3>
        <div class="value">1103<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Min</h3>
        <div class="value">476<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Max</h3>
        <div class="value">2614<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Std Deviation</h3>
        <div class="value">306<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>IQR (Q3-Q1)</h3>
        <div class="value">104<span class="unit">ms</span></div>
      </div>
    </div>
    
    <div class="chart-row">
      <div class="chart-container">
        <div class="section-title">Latency Distribution (Histogram)</div>
        <canvas id="histogram-0"></canvas>
      </div>
      <div class="chart-container">
        <div class="section-title">Box Plot Data</div>
        <canvas id="boxplot-0"></canvas>
      </div>
    </div>
    
    <div class="chart-container">
      <div class="section-title">Response Time Over Runs</div>
      <canvas id="timeline-0"></canvas>
    </div>
    
    <h2 style="margin: 30px 0 15px;">Invoice Parsing</h2>
    
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Success Rate</h3>
        <div class="value">100.0<span class="unit">%</span></div>
      </div>
      <div class="stat-card">
        <h3>Mean Latency</h3>
        <div class="value">2695<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Median (P50)</h3>
        <div class="value">1788<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>P95 Latency</h3>
        <div class="value">6601<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Min</h3>
        <div class="value">1567<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Max</h3>
        <div class="value">6601<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>Std Deviation</h3>
        <div class="value">1869<span class="unit">ms</span></div>
      </div>
      <div class="stat-card">
        <h3>IQR (Q3-Q1)</h3>
        <div class="value">346<span class="unit">ms</span></div>
      </div>
    </div>
    
    <div class="chart-row">
      <div class="chart-container">
        <div class="section-title">Latency Distribution (Histogram)</div>
        <canvas id="histogram-1"></canvas>
      </div>
      <div class="chart-container">
        <div class="section-title">Box Plot Data</div>
        <canvas id="boxplot-1"></canvas>
      </div>
    </div>
    
    <div class="chart-container">
      <div class="section-title">Response Time Over Runs</div>
      <canvas id="timeline-1"></canvas>
    </div>
    
  </div>

  <script>
    const results = [{"name":"Auto-Categorization","totalRuns":100,"successCount":99,"successRate":99,"times":[475.8302909999984,491.82616699999926,501.562708999998,506.7977499999979,508.66754200000287,509.455667000002,512.9015419999996,515.1879169999957,523.575042000004,524.3008750000008,525.0039170000018,526.0741249999992,527.447833000002,531.5445420000033,532.3146249999991,534.2320839999957,536.5381669999988,538.642917000001,538.9867089999971,542.5723749999997,549.1068749999977,550.0630000000019,552.5558749999982,553.2670419999995,555.1489169999986,558.2752499999988,560.1808340000007,560.2129999999997,563.4297499999957,563.9061660000007,568.7754999999961,570.994958000003,571.3613330000007,571.9372920000023,572.934874999999,575.2102499999964,576.4823329999999,577.444125,578.1209170000002,578.701959,582.8789170000018,584.5767079999969,584.6144170000007,584.7936670000017,588.0634170000012,589.2972910000026,590.8439579999977,595.0823339999988,595.3423750000002,596.2874999999985,596.5202500000014,597.2419999999984,599.6287499999999,601.1125830000019,603.2930830000005,604.8289169999989,609.6303330000082,611.3597500000033,612.1659579999978,615.5220830000035,617.7196250000015,619.8225410000014,620.0367500000029,620.4727919999968,621.3533340000013,621.4799579999963,625.7225830000007,625.9850420000002,627.1799170000013,629.3969589999979,635.2950000000001,642.6679160000058,653.724083000001,655.4444589999985,659.2358329999988,668.9937499999996,673.3869580000028,677.1890830000002,677.7835410000007,692.7016670000003,699.6844999999994,742.2991249999995,748.088125000002,754.6105419999985,820.472291,848.9082919999998,863.7694169999995,865.5645829999994,867.583749999998,888.1494579999999,922.5658750000002,929.263375,1067.5389999999989,1070.8845000000001,1103.364583,1194.3249159999978,1800.103415999998,2172.766707999999,2613.62875],"chronologicalTimes":[1103.364583,848.9082919999998,635.2950000000001,929.263375,2613.62875,668.9937499999996,677.1890830000002,692.7016670000003,577.444125,584.6144170000007,578.701959,742.2991249999995,603.2930830000005,820.472291,560.1808340000007,677.7835410000007,621.3533340000013,595.3423750000002,1067.5389999999989,625.7225830000007,863.7694169999995,620.0367500000029,699.6844999999994,596.5202500000014,584.7936670000017,597.2419999999984,506.7977499999979,888.1494579999999,538.642917000001,599.6287499999999,570.994958000003,542.5723749999997,527.447833000002,578.1209170000002,620.4727919999968,2172.766707999999,558.2752499999988,553.2670419999995,560.2129999999997,588.0634170000012,601.1125830000019,754.6105419999985,617.7196250000015,625.9850420000002,584.5767079999969,590.8439579999977,596.2874999999985,550.0630000000019,1070.8845000000001,491.82616699999926,612.1659579999978,642.6679160000058,572.934874999999,571.9372920000023,576.4823329999999,501.562708999998,508.66754200000287,604.8289169999989,534.2320839999957,659.2358329999988,627.1799170000013,865.5645829999994,563.9061660000007,748.088125000002,531.5445420000033,524.3008750000008,568.7754999999961,589.2972910000026,619.8225410000014,615.5220830000035,512.9015419999996,673.3869580000028,525.0039170000018,549.1068749999977,582.8789170000018,655.4444589999985,595.0823339999988,523.575042000004,575.2102499999964,571.3613330000007,475.8302909999984,526.0741249999992,509.455667000002,538.9867089999971,867.583749999998,515.1879169999957,611.3597500000033,922.5658750000002,555.1489169999986,653.724083000001,563.4297499999957,1194.3249159999978,532.3146249999991,536.5381669999988,621.4799579999963,552.5558749999982,629.3969589999979,1800.103415999998,609.6303330000082],"min":475.8302909999984,"max":2613.62875,"mean":681.7557609595959,"median":596.2874999999985,"stdDev":305.79011104548067,"variance":93507.59201320741,"q1":555.1489169999986,"q3":659.2358329999988,"p90":888.1494579999999,"p95":1103.364583,"p99":2613.62875},{"name":"Invoice Parsing","totalRuns":20,"successCount":20,"successRate":100,"times":[1567.294000000009,1609.5031249999884,1622.268916000001,1677.9702499999985,1699.841042,1704.340750000003,1720.3692089999968,1762.4102909999929,1770.2227080000011,1780.0244999999995,1795.1617079999996,1847.6675000000105,1853.9023750000051,1858.5794160000078,1881.4810410000064,2050.2816250000033,6275.788249999998,6292.791541999992,6528.909749999992,6600.855250000008],"chronologicalTimes":[1780.0244999999995,1567.294000000009,1622.268916000001,2050.2816250000033,1720.3692089999968,1762.4102909999929,6528.909749999992,6600.855250000008,1795.1617079999996,1858.5794160000078,6292.791541999992,1847.6675000000105,1770.2227080000011,1699.841042,1881.4810410000064,1609.5031249999884,1677.9702499999985,1704.340750000003,1853.9023750000051,6275.788249999998],"min":1567.294000000009,"max":6600.855250000008,"mean":2694.9831624000008,"median":1787.5931039999996,"stdDev":1868.8474162625412,"variance":3492590.6652711756,"q1":1704.340750000003,"q3":2050.2816250000033,"p90":6528.909749999992,"p95":6600.855250000008,"p99":6600.855250000008}];
    
    results.forEach((result, index) => {
      // Histogram
      const bins = 15;
      const binSize = (result.max - result.min) / bins;
      const histogram = new Array(bins).fill(0);
      result.times.forEach(t => {
        const binIndex = Math.min(Math.floor((t - result.min) / binSize), bins - 1);
        histogram[binIndex]++;
      });
      const labels = histogram.map((_, i) => (result.min + i * binSize).toFixed(0));
      
      new Chart(document.getElementById('histogram-' + index), {
        type: 'bar',
        data: {
          labels: labels,
          datasets: [{
            label: 'Frequency',
            data: histogram,
            backgroundColor: 'rgba(99, 102, 241, 0.7)',
            borderColor: 'rgba(99, 102, 241, 1)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
          scales: {
            x: { title: { display: true, text: 'Latency (ms)' } },
            y: { title: { display: true, text: 'Count' } }
          }
        }
      });
      
      // Box plot visualization using floating bars
      const boxplotCtx = document.getElementById('boxplot-' + index);
      new Chart(boxplotCtx, {
        type: 'bar',
        data: {
          labels: [result.name],
          datasets: [
            // Lower whisker (Min to Q1)
            {
              label: 'Min â†’ Q1',
              data: [[result.min, result.q1]],
              backgroundColor: 'rgba(156, 163, 175, 0.3)',
              borderColor: 'rgba(107, 114, 128, 1)',
              borderWidth: 1,
              barPercentage: 0.3,
            },
            // Box (Q1 to Q3)
            {
              label: 'Q1 â†’ Q3 (IQR)',
              data: [[result.q1, result.q3]],
              backgroundColor: 'rgba(99, 102, 241, 0.7)',
              borderColor: 'rgba(99, 102, 241, 1)',
              borderWidth: 2,
              barPercentage: 0.6,
            },
            // Upper whisker (Q3 to Max)
            {
              label: 'Q3 â†’ Max',
              data: [[result.q3, result.max]],
              backgroundColor: 'rgba(156, 163, 175, 0.3)',
              borderColor: 'rgba(107, 114, 128, 1)',
              borderWidth: 1,
              barPercentage: 0.3,
            }
          ]
        },
        options: {
          indexAxis: 'y',
          responsive: true,
          plugins: {
            legend: { display: true, position: 'bottom' },
            tooltip: {
              callbacks: {
                label: function(context) {
                  const range = context.raw;
                  return context.dataset.label + ': ' + range[0].toFixed(0) + ' - ' + range[1].toFixed(0) + ' ms';
                }
              }
            },
            annotation: {
              annotations: {
                medianLine: {
                  type: 'line',
                  xMin: result.median,
                  xMax: result.median,
                  borderColor: 'rgba(239, 68, 68, 1)',
                  borderWidth: 3,
                  label: {
                    display: true,
                    content: 'Median: ' + result.median.toFixed(0) + 'ms',
                    position: 'start'
                  }
                }
              }
            }
          },
          scales: {
            x: {
              title: { display: true, text: 'Latency (ms)' },
              min: Math.floor(result.min * 0.9),
              max: Math.ceil(result.max * 1.1)
            },
            y: { stacked: false }
          }
        }
      });
      
      // Add median line manually with canvas
      const boxChart = Chart.getChart(boxplotCtx);
      const medianX = boxChart.scales.x.getPixelForValue(result.median);
      const ctx = boxplotCtx.getContext('2d');
      ctx.save();
      ctx.strokeStyle = 'rgba(239, 68, 68, 1)';
      ctx.lineWidth = 3;
      ctx.setLineDash([]);
      ctx.beginPath();
      ctx.moveTo(medianX, boxChart.chartArea.top);
      ctx.lineTo(medianX, boxChart.chartArea.bottom);
      ctx.stroke();
      ctx.restore();
      
      // Timeline (using chronological order)
      new Chart(document.getElementById('timeline-' + index), {
        type: 'line',
        data: {
          labels: result.chronologicalTimes.map((_, i) => i + 1),
          datasets: [{
            label: 'Response Time (ms)',
            data: result.chronologicalTimes,
            borderColor: 'rgba(99, 102, 241, 1)',
            backgroundColor: 'rgba(99, 102, 241, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 2
          }, {
            label: 'Mean',
            data: result.chronologicalTimes.map(() => result.mean),
            borderColor: 'rgba(239, 68, 68, 0.8)',
            borderDash: [5, 5],
            pointRadius: 0
          }]
        },
        options: {
          responsive: true,
          scales: {
            x: { title: { display: true, text: 'Run #' } },
            y: { title: { display: true, text: 'Latency (ms)' } }
          }
        }
      });
    });
  </script>
</body>
</html>